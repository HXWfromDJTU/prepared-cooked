# prepared-cooked

## 原始需求描述
1. 参照原型: overcooked(https://en.wikipedia.org/wiki/Overcooked)
2. 游戏核心描述
    - 风格与玩法: 参考 overcooked 的游戏模式，做像素风的网页游戏
    - 食物菜单模块设计 
      - prepared-cooked 所有食材原料都为预制菜，所有菜品都是原料通过微波炉解冻后即可使用。
      - 但是客户点餐的食物，需要 1～N 个微波炉解冻后的原料进行组装后，才可以上菜
    - 客户派单系统: 可以参考 overcooked 原来的游戏设计
    - 玩家人数: overcooked原游戏支持多人合租，但当前游戏仅需支持单人
    - 游戏时间: 单局游戏时长 3 分钟

## 需求分析与技术方案

### 技术栈选择
- **游戏引擎**: Phaser.js (开源免费的2D游戏引擎，适合像素风游戏)
- **前端技术**: HTML5 + JavaScript + CSS
- **数据存储**: localStorage (存储游戏设置、最高分等)
- **开发工具**: 无需后端，纯前端实现

### 游戏机制设计

#### 操作控制
- **移动控制**: WASD 键 + 方向键
- **交互控制**: 
  - 空格键: 通用交互（拿取/放置物品）
  - E键: 操作设备（微波炉解冻、洗盘子等）
- **游戏视角**: 俯视图
- **移动方式**: 正常行走（暂不支持奔跑）

#### 食材与菜品系统
- **菜品来源**: 参考西贝官网菜品 (https://www.xibei.com.cn/web/page/23.html)
- **配料设计**: 每个成品菜拆分成1-5种预制配料
- **难度搭配**: 简单菜品1-2种配料，复杂菜品3-5种配料
- **解冻机制**: 不同食材有固定解冻时间
  - 肉类（如大棒骨）: 8-10分钟
  - 蔬菜类: 2-3分钟
  - 半成品: 4-6分钟

#### 难度系统
- **Easy模式**: 
  - 客户点单频率较低
  - 主要是1-2种配料的简单菜品
  - 给予更多准备时间
- **Medium模式**: 
  - 中等点单频率
  - 2-3种配料的菜品为主
  - 标准游戏节奏
- **Hard模式**: 
  - 高频点单
  - 3-5种配料的复杂菜品
  - 时间压力较大

#### 游戏流程
1. 客户下单 → 显示所需菜品
2. 玩家取预制食材 → 放入微波炉解冻
3. 解冻完成 → 取出食材进行组装
4. 完成菜品 → 上菜给客户
5. 获得分数 → 继续下一单

### 设计确认

#### 厨房布局
- **微波炉**: 2台（提高游戏效率，避免等待瓶颈）
- **食材储存区**: 1个（存放各种预制菜原料）
- **组装工作台**: 1个（组合解冻后的食材）
- **上菜区**: 1个（完成的菜品放置处，客户取餐）
- **洗盘子区域**: 1个（清洁餐具，循环使用）

#### 评分系统
- **基础分数**: 按时完成订单获得基础分数（根据菜品复杂度）
- **时间奖励**: 提前完成订单获得额外分数
- **连击奖励**: 连续完成订单获得连击加分
- **评分显示**: 仅显示数字分数，不需要星级评价系统

#### UI风格设计
- **整体风格**: 像素风格，但避免过度马赛克化，保持清晰可读
- **色调方案**: 参考西贝莜面村的暖色调风格（橙黄、棕色、米色等）
- **Logo元素**: 可使用西贝莜面村的餐厅logo设计元素
- **界面布局**: 简洁明了，突出游戏操作区域

#### 交互键设置（最终确认）
- **移动**: WASD键 + 方向键
- **通用交互**: 空格键（拿取/放置/操作设备/上菜等所有交互操作）

## 开发计划

### 第一阶段：项目基础搭建
1. **项目结构设置**：创建基本的文件结构
2. **Phaser.js集成**：引入游戏引擎和基础配置
3. **基础游戏场景**：创建主菜单和游戏场景框架

### 第二阶段：核心游戏机制
1. **玩家角色**：实现角色移动和交互系统
2. **厨房布局**：绘制游戏地图和各个功能区域
3. **食材系统**：实现预制菜和解冻机制

### 第三阶段：游戏逻辑
1. **订单系统**：客户点餐和菜品需求管理
2. **制作流程**：从取材到上菜的完整流程
3. **评分系统**：分数计算和显示

### 第四阶段：优化完善
1. **UI美化**：像素风格界面设计
2. **音效和动画**：提升游戏体验
3. **难度平衡**：调整游戏难度和测试

## 项目结构
```
prepared-cooked/
├── index.html              # 主页面
├── css/
│   └── style.css          # 样式文件
├── js/
│   ├── main.js            # 游戏主入口
│   ├── scenes/
│   │   ├── MenuScene.js   # 主菜单场景
│   │   └── GameScene.js   # 游戏场景
│   ├── entities/
│   │   ├── Player.js      # 玩家角色
│   │   ├── Kitchen.js     # 厨房布局
│   │   └── Food.js        # 食材系统
│   ├── systems/
│   │   ├── OrderSystem.js # 订单系统
│   │   └── ScoreSystem.js # 评分系统
│   └── utils/
│       └── GameData.js    # 游戏数据管理
├── assets/
│   ├── images/            # 图片资源
│   ├── sounds/            # 音效资源
│   └── data/              # 游戏数据文件
└── README.md              # 项目说明
```

## 如何运行游戏

### 方法一：直接打开
1. 双击 `index.html` 文件
2. 游戏将在默认浏览器中打开

### 方法二：本地服务器（推荐）
```bash
# 使用Python启动本地服务器
python -m http.server 8000

# 或使用Node.js
npx http-server

# 然后在浏览器访问 http://localhost:8000
```

### 游戏操作
- **移动**: WASD 键或方向键
- **交互**: 空格键（拿取/放置/操作设备）
- **暂停**: ESC 键
- **查看说明**: ESC 键（在主菜单或游戏中）

## 当前开发状态

### ✅ 已完成功能
- [x] 项目基础架构搭建
- [x] Phaser.js 游戏引擎集成
- [x] 主菜单场景（难度选择）
- [x] 游戏主场景框架
- [x] 玩家角色移动和基础交互
- [x] 厨房布局绘制
- [x] 食材系统基础框架
- [x] 订单系统（自动生成订单）
- [x] 评分系统（分数计算、连击奖励）
- [x] 游戏计时器和UI显示
- [x] 本地存储（最高分记录）
- [x] 像素风格UI设计

### 🚧 开发中功能
- [ ] 完整的食材解冻流程
- [ ] 菜品组装系统
- [ ] 订单匹配和完成逻辑
- [ ] 微波炉状态管理
- [ ] 游戏音效和动画

### 📋 待开发功能
- [ ] 图片资源和精灵动画
- [ ] 更丰富的视觉效果
- [ ] 游戏平衡性调整
- [ ] 更多菜品和食材
- [ ] 成就系统
- [ ] 游戏教程

## 技术栈
- **游戏引擎**: Phaser.js 3.70.0
- **前端技术**: HTML5 + CSS3 + JavaScript (ES6+)
- **数据存储**: localStorage
- **开发工具**: 无需构建工具，纯前端实现

## 游戏特色
- 🍳 基于西贝莜面村真实菜品设计
- 🎨 像素风格界面，温馨的餐厅色调
- ⚡ 快节奏的烹饪挑战
- 🏆 完善的评分和连击系统
- 📱 响应式设计，支持不同屏幕尺寸
