# Prepared Cooked - 预制菜大厨

基于 Overcooked 玩法的预制菜餐厅管理游戏，使用 Phaser.js 构建的单人网页游戏。

## 🎮 游戏核心机制

### 基本玩法
- **游戏时长**: 3分钟
- **目标**: 按照客户订单，在限定时间内制作菜品获得分数
- **操作**: WASD/方向键移动，空格键交互

### 工作流程
```
取食材 → 微波炉解冻 → 组装台组合 → 上菜
```

## 🛠️ 技术栈
- **游戏引擎**: Phaser.js 3.70.0
- **开发语言**: JavaScript ES6+
- **运行环境**: 浏览器 (需要 HTTP 服务器)
- **数据存储**: localStorage

## 🏃‍♂️ 快速开始

### 运行游戏
```bash
# 启动本地服务器 (推荐)
python3 -m http.server 8000
# 或者
npx http-server

# 访问 http://localhost:8000
```

### 游戏操作
- **移动**: WASD 或方向键
- **交互**: 空格键 (拿取/放置/操作)
- **暂停**: ESC 键

## ✅ 已实现功能

### 核心系统
- [x] **网格化移动系统** (40x40px网格)
- [x] **厨房环形布局** (工作台围成圆环)
- [x] **分类食材存储** (肉类/蔬菜/半成品分区)
- [x] **微波炉解冻机制** (进度条、状态管理)
- [x] **组装台系统** (多食材组合制作菜品)
- [x] **订单管理** (动态生成、进度条、紧急状态)
- [x] **评分系统** (基础分数、时间奖励、连击加分)

### 用户界面
- [x] **食材 Emoji 显示** (所有食材都有对应emoji图标)
- [x] **实时状态显示** (携带物品、微波炉状态、工作台食材)
- [x] **订单进度可视化** (倒计时、紧急状态动画)
- [x] **游戏计时器** (3分钟倒计时)
- [x] **最高分记录** (localStorage存储)

### 游戏数据
- [x] **15种食材** (羊排🐑、牛肋排🥩、土豆🥔等)
- [x] **3种难度模式** (Easy/Medium/Hard)
- [x] **多种菜品配方** (基于西贝莜面村菜品)
- [x] **食材状态追踪** (raw → defrosted → prepared → finished)

## 🎯 当前游戏状态评估

### ✅ 核心功能完整
- 玩家移动和交互系统稳定
- 微波炉解冻流程完整
- 食材显示和状态管理正常
- 订单系统运行良好

### ⚠️ 需要验证的功能
- [ ] **菜品配方匹配** - 是否正确识别完整配方
- [ ] **上菜流程** - 完成菜品到客户的完整链路
- [ ] **游戏结束逻辑** - 时间结束的处理
- [ ] **分数计算准确性** - 各种加分规则是否正确

### 🔧 已知问题
- [ ] 组装台可视化需要验证 (最近刚修复)
- [ ] 菜品完成后的上菜流程可能不完整
- [ ] 某些边界情况的错误处理

## 📋 下一步开发计划

### 优先级 1: 核心功能验证
1. **完整游戏流程测试** - 从开始到结束的完整游戏体验
2. **菜品配方系统验证** - 确保所有配方都能正确制作
3. **上菜和计分系统** - 验证完整的订单完成流程
4. **游戏结束处理** - 时间到时的正确处理

### 优先级 2: 用户体验优化
1. **视觉反馈增强** - 更好的动画和提示
2. **游戏引导系统** - 新手教程或提示
3. **音效添加** - 基础的游戏音效
4. **性能优化** - 确保流畅运行

### 优先级 3: 功能扩展
1. **更多菜品和食材**
2. **成就系统**
3. **难度平衡调整**
4. **移动端适配**

## 🏗️ 项目架构

```
prepared-cooked/
├── index.html              # 游戏入口
├── css/style.css           # 样式文件
├── js/
│   ├── main.js            # 游戏主控制器
│   ├── scenes/            # 游戏场景
│   │   ├── MenuScene.js   # 主菜单
│   │   └── GameScene.js   # 游戏主场景
│   ├── entities/          # 游戏实体
│   │   ├── Player.js      # 玩家控制
│   │   ├── Kitchen.js     # 厨房管理
│   │   └── Food.js        # 食材系统
│   ├── systems/           # 游戏系统
│   │   ├── OrderSystem.js # 订单管理
│   │   └── ScoreSystem.js # 评分系统
│   └── utils/
│       └── GameData.js    # 游戏数据配置
├── CLAUDE.md              # AI 开发指导
└── README.md              # 项目文档
```

## 🎨 游戏设计亮点

- **简化的预制菜概念** - 避免复杂的烹饪步骤
- **网格化精确操作** - 清晰的移动和交互
- **分类存储系统** - 直观的食材管理
- **实时状态反馈** - emoji 和动画提供即时反馈
- **渐进难度设计** - 从简单到复杂的学习曲线

## 🚀 开发建议

当前项目已经有了较为完整的基础框架，建议：

1. **先验证核心流程** - 确保从取材到上菜的完整链路可用
2. **逐步完善细节** - 在核心功能稳定的基础上添加细节
3. **重视用户反馈** - 通过实际游玩发现需要改进的地方
4. **保持代码整洁** - 定期重构和优化代码结构

项目具有良好的扩展性，可以在当前基础上持续迭代开发。