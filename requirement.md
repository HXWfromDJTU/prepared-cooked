注意：本文档为需求原始文档，禁止 AI 进行修改

# 《预制菜厨房》游戏设计文档

## 1. 游戏核心概念与机制

### 1.1 游戏主题与背景

#### 1.1.1 主题：预制菜厨房

本游戏的核心主题围绕“预制菜厨房”展开，旨在模拟一个高度依赖预制食材、追求极致出餐效率的现代餐饮后厨环境。与传统烹饪游戏强调从原始食材开始的“洗、切、炒”等复杂工序不同，本游戏将流程简化为更符合预制菜模式的“解冻、组装、上菜”。这种设定不仅贴合当下餐饮行业的流行趋势，也为游戏玩法带来了独特的节奏感和策略性。玩家将扮演后厨工作人员，在高压环境下，通过高效协作，将冷冻的预制菜品快速转化为可供顾客享用的美味佳肴。游戏的核心挑战在于如何优化解冻、装盘、清洗等环节的流程，以应对源源不断的订单，这与《Overcooked》中强调的“时间管理”和“团队协作”一脉相承，但又通过“预制菜”这一核心概念，赋予了游戏全新的内涵和体验。

#### 1.1.2 灵感来源：西贝预制菜风波

游戏的创意灵感直接来源于近年来备受关注的“西贝预制菜风波”。这一社会热点事件引发了公众对于餐饮标准化、食品安全、以及“现做”与“预制”之间界限的广泛讨论。游戏将巧妙地借用这一背景，通过戏谑和夸张的手法，将玩家置于一个充满戏剧张力的“预制菜”厨房中。游戏中的“贾老板”角色，其催促和台词设计将参考事件中企业家的言论，为游戏增添一份现实主义的讽刺意味和话题性。这种设计不仅能让玩家在游戏过程中产生共鸣，也能引发他们对于现代餐饮工业化的思考。通过将社会热点融入游戏叙事，本游戏旨在创造一个既有娱乐性又具现实关照的独特体验，让玩家在“胡闹”之余，也能感受到一丝来自现实的幽默与反思。

#### 1.1.3 核心玩法：改造《Overcooked》流程

本游戏的核心玩法是在深度参考并解构《Overcooked》的基础上，进行的一次创新性改造。《Overcooked》的成功在于其精妙的关卡设计、紧张的时间压力以及强调沟通协作的游戏机制 。本游戏将继承这些精髓，但对核心的烹饪流程进行颠覆性重塑。原作中“获取食材 -> 切菜 -> 烹饪（煎、煮、炒）-> 合并 -> 装盘 -> 上菜”的经典循环，将被简化为“获取预制菜 -> 微波炉解冻 -> 组装（装盘）-> 上菜”的新流程。同时，原作中“清洗餐盘”作为可选或后期才出现的机制，在本作中被提升为核心循环的必要环节，因为预制菜模式下，餐盘的流转速度成为制约出餐效率的关键瓶颈之一。这种改造不仅降低了单一操作的复杂度，使得游戏更易于上手，但通过强化“解冻”和“洗碗”两个时间消耗环节，以及引入“贾老板”的催促机制，将游戏的策略重点从“如何烹饪”转移到了“如何高效管理时间和资源”，从而在简化操作的同时，提升了宏观策略的深度和紧张感。

### 1.2 核心游戏循环

#### 1.2.1 接收订单

游戏的核心循环始于订单的接收。在每一局游戏开始时，系统会根据当前难度和关卡设计，动态生成一系列顾客订单。这些订单会以图标和文字的形式清晰地展示在屏幕的订单栏中，明确告知玩家需要制作的菜品。订单系统是驱动整个游戏流程的引擎，它决定了玩家需要执行哪些后续操作。与《Overcooked》类似，订单的生成并非完全随机，而是遵循一定的逻辑，以确保游戏难度的平滑过渡和玩家的持续挑战 。例如，在游戏初期，订单可能只包含单一菜品，如“一份黄米凉糕”，玩家只需解冻一种预制菜即可。而随着游戏难度的提升，订单将变得愈发复杂，可能出现“一份牛大骨套餐”，这需要玩家同时解冻牛大骨、莜面鱼鱼和一份蔬菜，并进行组合。订单的等待时间也是影响得分的关键因素，长时间未完成的订单会消失并扣除分数，这构成了游戏的主要压力来源 。

#### 1.2.2 预制菜解冻（微波炉）

接收到订单后，玩家的首要任务是根据订单需求，从指定的存储区域（如冰箱或货架）获取相应的冷冻预制菜。获取后，玩家需要将其放入微波炉进行解冻。这是本游戏独创的核心机制，取代了《Overcooked》中“切菜”和“烹饪”的环节。解冻过程并非瞬时完成，而是需要消耗一定的时间。在此期间，玩家角色可以离开微波炉去执行其他任务，例如准备下一个订单的预制菜或清洗脏盘子，这体现了游戏对玩家多任务处理能力和时间规划能力的考验。解冻进度将通过一个清晰的UI进度条和倒计时数字来实时反馈给玩家，让玩家能够精确掌握时间，避免过度加热（虽然预制菜可能不存在煮糊的风险，但可以设计为解冻超时导致品质下降，从而影响最终得分）。微波炉的数量和位置是关卡设计的重要组成部分，直接影响着玩家的操作动线和团队协作的效率。

#### 1.2.3 菜品组装（装盘）

当预制菜解冻完成后，玩家需要将其从微波炉中取出，并运送到装盘区。这是将“已解冻的预制菜”转化为“可上菜的成品”的关键一步。根据订单的复杂程度，玩家可能需要将一个或多个已解冻的预制菜组合到一个盘子上。例如，一个“西贝面筋”订单可能只需要将一份解冻的面筋装盘即可，而一个“张爷爷空心挂面套餐”则可能需要将挂面、浇头和一份小菜都组装到同一个托盘上。这个过程考验玩家的记忆力和操作的准确性，错误的组合将导致订单失败。装盘区的设计也至关重要，它需要紧邻微波炉和上菜窗口，以缩短玩家的移动距离，提高出餐效率。在多人协作模式下，一个玩家可以专职负责解冻，另一个玩家则负责装盘，形成高效的生产线。

#### 1.2.4 清洗餐盘

与《Overcooked》类似，干净的餐盘是本游戏中的有限资源。当玩家将完成的菜品送到出餐口后，使用过的脏盘子会出现在洗碗池区域。玩家必须将这些脏盘子拿到水池进行清洗，才能获得新的干净盘子以供后续装盘使用。清洗餐盘同样需要消耗一定的时间，并通过UI进度条和数字时间进行反馈。这一机制在游戏后期，特别是订单高峰期，会成为主要的瓶颈。如果所有玩家都忙于解冻和装盘而无人洗碗，将会导致“有菜无盘”的尴尬局面，从而严重影响出餐速度和最终得分。因此，如何分配人手，在“前线”生产和“后勤”保障之间取得平衡，是团队协作的核心策略之一。洗碗池的数量和位置同样是关卡设计的关键考量因素。

#### 1.2.5 完成订单与得分

将组装好的菜品送到指定的出餐窗口，即标志着该订单的完成。系统会根据订单的复杂程度、完成速度以及是否超时等因素，给予玩家相应的分数奖励。快速、准确地完成订单是获得高分的关键。此外，连续成功完成订单可能会触发“连击”（Combo）机制，获得额外的分数加成，这鼓励玩家保持高效、稳定的出餐节奏。反之，如果订单超时未完成，或者上错了菜品，不仅无法获得分数，还可能被扣除一定的分数作为惩罚。游戏结束时，总分将决定玩家的星级评价（例如1-3星），并计入排行榜。这种以分数为核心的评价体系，取代了传统的“生命制”，降低了玩家的挫败感，鼓励他们不断尝试和优化策略，以追求更高的分数和更完美的团队协作 。

### 1.3 游戏目标与规则

#### 1.3.1 固定游戏时长：3分钟

每一局游戏都设定了一个固定的时长，即3分钟。这个时间限制是游戏紧张感和节奏感的主要来源。玩家必须在这有限的时间内，尽可能地完成更多的订单，以获得更高的分数。3分钟的时长设计，既保证了单局游戏不会过长，让玩家能够快速体验完整的游戏循环，又足够让玩家感受到时间的紧迫和策略的深度。与《Overcooked》中部分关卡可能存在的无限生存模式不同，固定时长的设计使得每一局游戏都像是一场短跑冲刺，要求玩家从一开始就进入状态，并迅速找到最高效的工作节奏。这种设计也便于进行分数的比较和排行榜的统计，因为所有玩家都在相同的条件下进行挑战。

#### 1.3.2 胜负条件：分数高低对比

游戏的核心胜负判定标准是最终的得分高低。在3分钟的游戏时间结束后，系统会结算玩家（或团队）的总得分，并根据分数区间给予1到3颗星的评价。这种以分数为核心的胜负机制，相比于传统的“通关/失败”二元论，更具激励性和可重复游玩性。即使玩家未能达到3星，他们获得的分数依然会被记录，并可以在排行榜上与其他玩家进行比较。这鼓励玩家不断挑战自我，优化操作流程，追求更高的分数。在多人合作模式下，分数是团队共享的，这强化了玩家之间的协作意识和集体荣誉感，共同的目标是获得尽可能高的分数 。而在潜在的对抗模式中，分数则可以用来判定个人或小组的胜负。

#### 1.3.3 失败条件：无（时间结束后结算）

本游戏在设计上摒弃了传统的“Game Over”或“失败”状态。在3分钟的游戏时间内，无论玩家表现如何，游戏都会持续进行，直到时间结束。即使玩家连续犯错，导致大量订单超时或厨房陷入混乱，游戏也不会强制中断。这种“无失败”的设计理念，旨在降低新手玩家的挫败感，让他们能够在轻松的氛围中学习和适应游戏机制。所有的失误，如订单超时、上错菜等，最终只会体现在分数的扣除上，而不会导致游戏进程的终止 。这种设计使得游戏更具包容性，玩家可以将每一局游戏都视为一次学习和改进的机会，而不是一次非赢即输的考验。最终，所有努力都会被量化为一个分数，为下一次挑战提供明确的目标。

## 2. 角色与互动设计

### 2.1 玩家角色（厨师）

#### 2.1.1 操作方式：移动、加速、取物、操作

玩家在游戏中操控的角色是一名厨师，其操作方式被设计得简洁直观，以便于玩家快速上手。核心操作主要围绕四个按键展开，这些按键将映射到键盘或手柄上，确保操作的便捷性和响应速度。首先是**移动**，玩家可以通过“上、下、左、右”四个方向键或摇杆来控制厨师在厨房场景中的移动。这种经典的2D/2.5D游戏移动方式，符合绝大多数玩家的操作习惯。其次是**加速**，游戏将设置一个专门的“加速”键（例如Shift键或手柄的某个肩键），按下后厨师的移动速度会暂时提升，这对于在紧张的订单高峰期快速穿梭于各个操作台之间至关重要，但加速可能会有短暂的冷却时间或能量限制，以增加策略性。第三个是**取物/上菜**，通过一个交互键（例如空格键或手柄的A键），玩家可以与场景中的物体进行互动，包括从储物柜拿取预制菜、从微波炉或水池中取出物品、拿起餐盘、以及将完成的菜品送到出餐口。最后是**操作**，另一个交互键（例如E键或手柄的X键）用于启动特定设备的流程，如将预制菜放入微波炉并启动解冻，或将脏盘子放入水池开始清洗。这种清晰的功能划分，使得玩家可以精准地执行每一个意图，将操作失误的可能性降到最低。

#### 2.1.2 角色形象：卡通手绘风格

玩家所操控的厨师角色，其美术风格将严格遵循游戏整体的卡通手绘基调，力求营造出一种轻松、诙谐且富有亲和力的视觉体验。角色的设计将参考《Overcooked》中角色的特点，采用夸张的比例和生动的表情，例如大大的脑袋、短小的四肢，以及能够清晰传达情绪的大眼睛。角色的服装将是一套标准的厨师服，但可以通过不同的颜色或配饰（如帽子、围裙的样式）来区分不同的玩家，尤其是在多人合作模式下。角色的动作设计也将充满趣味性，例如移动时的蹦跳感、拿取物品时的夸张动作、以及在等待操作完成时（如解冻或洗碗）表现出的不耐烦的小动作（如跺脚、看表）。这些细节不仅丰富了角色的个性，也为游戏过程增添了不少幽默元素。整体而言，厨师角色的设计旨在让玩家感到亲切和愉悦，即使在高压的游戏环境下，也能通过角色的可爱形象获得一丝放松。

### 2.2 “贾老板”角色（催促者）

#### 2.2.1 角色定位：情绪化的管理者

“贾老板”是游戏中一个独特的NPC（非玩家角色），其定位是一位站在厨房旁边，时刻监督玩家工作并不断发出催促的“情绪化管理者”。他的存在是游戏核心冲突和幽默感的来源之一。与《Overcooked》中相对静态的订单系统不同，“贾老板”通过其生动的语言和表情，将订单的紧迫感和顾客的等待焦虑以一种更具戏剧性的方式传递给玩家。他不仅仅是一个计时器或任务发布器，而是一个有血有肉（虽然是卡通化的）的“人”，他的情绪会随着玩家的表现而波动。当玩家操作流畅、上菜迅速时，他可能会表现出短暂的满意；但当玩家出现失误、效率低下或订单积压时，他的情绪会迅速转为不耐烦、愤怒，甚至是抓狂。这种情绪化的反馈，极大地增强了游戏的代入感和紧张氛围，让玩家仿佛真的置身于一个高压的、被老板时刻紧盯的厨房环境中。

#### 2.2.2 触发机制：基于玩家表现（如上菜速度）

“贾老板”的催促行为并非随机发生，而是由一个精密的触发机制所控制，该机制紧密关联着玩家的实时游戏表现。主要的触发条件包括但不限于以下几点：1. **订单等待时间**：当一个订单生成后，如果玩家长时间未能完成，超过了预设的“耐心阈值”，“贾老板”就会开始催促。等待时间越长，催促的频率和激烈程度就越高。2. **订单积压数量**：如果屏幕上同时存在多个未完成的订单，形成一个“订单队列”，这会触发“贾老板”的焦虑情绪，他会根据积压订单的数量，说出不同等级的催促台词。3. **玩家操作失误**：当玩家出现明显的操作失误，例如将错误的菜品送出，或者将解冻好的食材遗忘在操作台上时，“贾老板”会立即发出带有批评和嘲讽意味的催促。4. **特定时间节点**：在游戏时间的某些关键节点，例如最后30秒，无论玩家表现如何，“贾老板”都可能会进入一种“终极催促”模式，以营造最后的冲刺氛围。这些触发机制的设计，确保了“贾老板”的催促行为与游戏进程高度同步，使其成为一个动态的、有反馈的“活”的系统，而不是一个单调的背景音。

#### 2.2.3 互动形式：台词催促、表情变化

“贾老板”与玩家的互动主要通过两种形式呈现：生动的台词和夸张的表情变化。这两种形式相辅相成，共同塑造了一个立体且富有感染力的角色形象。在**台词催促**方面，游戏将设计一个庞大的语音库，包含数十条甚至上百条不同的催促台词。这些台词会根据不同的触发情境和“贾老板”的当前情绪状态进行播放。例如，在订单刚开始等待时，他可能会说：“快点，客人等着呢！”；当等待时间变长时，可能会升级为：“怎么回事？这么慢！”；而当订单严重积压时，他可能会愤怒地咆哮：“你们在干什么？厨房要爆炸了！”。这些台词将以中文语音的形式呈现，以增强代入感。在**表情变化**方面，“贾老板”的卡通形象将拥有丰富的面部表情。他的脸会由一个基础模型和多个可替换的表情贴图组成。随着情绪的变化，他的眉毛会竖起或下垂，眼睛会瞪大或眯起，嘴巴会呈现出不同的弧度，甚至整张脸的颜色都可能因为愤怒而变红。这些细腻的表情变化，与语音台词完美同步，让玩家能够直观地感受到“贾老板”的情绪波动，从而产生更强的情感共鸣和互动感。

#### 2.2.4 台词设计：参考贾国龙在风波中的情绪化言论

为了使“贾老板”这一角色更具真实感和话题性，其台词设计将巧妙地参考和化用西贝创始人贾国龙在“预制菜风波”期间的一些公开言论，尤其是那些带有强烈个人情绪和鲜明语言风格的句子。当然，这种参考并非直接照搬，而是在保持游戏幽默和讽刺基调的前提下，进行艺术加工和再创作。例如，可以将一些较为严肃的商业辩解，转化为游戏中充满焦虑和催促的台词。比如，将“我们用的是高品质的预制菜”改编为“这可是最高级的预制菜，别给我搞砸了！”。或者，将一些对外界质疑的回应，转化为对玩家效率的质疑，如“为什么别人能做出来，你们就不行？”。此外，台词设计还会融入一些网络流行语和夸张的修辞手法，使其更符合年轻玩家的语境。例如，“这速度，蜗牛看了都摇头”、“你们是来厨房开会的吗？”等等。通过这种方式，游戏不仅巧妙地蹭了社会热点的热度，也让“贾老板”这个角色充满了独特的个性和记忆点，使其成为游戏中最具辨识度的元素之一。

## 3. 菜品与订单系统

### 3.1 菜品设计原则

#### 3.1.1 参考来源：西贝莜面村菜单

游戏中的所有菜品设计，其首要参考来源是西贝莜面村的官方菜单 。设计团队将仔细研究其官网和外卖平台上的菜品列表，挑选出那些具有代表性、认知度高且适合进行“预制菜化”改造的菜品。例如，“黄焖鸡米饭”、“番茄牛腩”、“莜面鱼鱼”等都是非常合适的候选。选择这些真实存在的菜品，能够迅速拉近与玩家的距离，让他们产生熟悉感，并能更好地理解游戏主题与现实事件的关联。在设计过程中，会对这些菜品进行艺术化处理，将其转化为符合游戏卡通风格的视觉形象，但会保留其核心特征，如颜色、主要食材形态等，以确保玩家能够一眼认出。

| ID | 菜品名（游戏内显示） | 预制菜组件（解冻/组装顺序）      | 复杂度 | 出现难度 |
| -- | ---------- | ------------------- | --- | ---- |
| 01 | 黄米凉糕       | 黄米糕坯、蔓越莓酱           | 2   | 简单   |
| 02 | 小馒头        | 馒头坯                 | 1   | 简单   |
| 03 | 西贝面筋       | 面筋包、调味汁             | 2   | 简单   |
| 04 | 番茄牛腩饭      | 番茄牛腩、米饭             | 2   | 简单   |
| 05 | 紫菜蛋花汤      | 汤包                  | 1   | 简单   |
| 06 | 张爷爷空心挂面    | 挂面、浇头、小菜            | 3   | 中等   |
| 07 | 牛大骨套餐      | 牛大骨、莜面鱼鱼、青菜         | 3   | 中等   |
| 08 | 黄焖鸡米饭      | 黄焖鸡、米饭              | 2   | 中等   |
| 09 | 莜面鱼鱼套餐     | 莜面鱼鱼、羊肉汤、小菜、酱料      | 4   | 中等   |
| 10 | 酸菜鱼        | 鱼片包、酸菜包、高汤包         | 3   | 中等   |
| 11 | 干锅花菜       | 花菜包、腊肉包、酱料包         | 3   | 中等   |
| 12 | 宫保鸡丁饭      | 鸡丁包、花生包、米饭          | 3   | 中等   |
| 13 | 西贝全家福      | 牛大骨、番茄牛腩、莜面鱼鱼、米饭、青菜 | 5   | 困难   |
| 14 | 羊蝎子火锅套餐    | 羊蝎子、宽粉、冻豆腐、蔬菜拼、锅底   | 5   | 困难   |
| 15 | 酸菜排骨面      | 排骨包、酸菜包、面条、高汤、青菜    | 5   | 困难   |
| 16 | 麻辣香锅       | 虾包、午餐肉、藕片、青笋、底料     | 5   | 困难   |
| 17 | 烤羊腿盛宴      | 羊腿包、孜然料、土豆、沙拉、小饼    | 5   | 困难   |
| 18 | 八宝茶甜点组     | 八宝茶包、凉糕、小馒头、桂花酱     | 4   | 困难   |

#### 3.1.2 组合复杂度：1-5种预制菜组合

为了构建一个由易到难、富有层次感的游戏体验，每道菜品的制作复杂度被定义为所需预制菜组件的数量。游戏设计遵循一个核心原则：一道完整的菜品由1到5种不同的预制菜组合而成。例如：
*   **复杂度1**：可能是一份简单的“米饭”或“小馒头”，只需要一种主食预制包。
*   **复杂度2**：如“黄焖鸡米饭”，需要“黄焖鸡”和“米饭”两种预制包。
*   **复杂度3**：如“番茄牛腩面”，可能需要“番茄牛腩”、“面条”和“青菜”三种预制包。
*   **复杂度4-5**：更高难度的菜品，如“莜面鱼鱼套餐”，可能需要“莜面鱼鱼”、“浇头”、“小菜”、“酱料”和“汤”等多种组件。
这种组合复杂度的设计，直接影响了游戏的难度曲线。简单的菜品适合新手教学和前期关卡，而复杂的菜品则成为后期高难度关卡的挑战核心，要求玩家具备更强的规划能力、协作能力和操作速度。

#### 3.1.3 难度关联：复杂度随游戏难度提升

菜品组合复杂度与游戏的整体难度等级紧密挂钩。游戏分为三个难度等级（简单、中等、困难），每个等级对应的菜品池和订单生成逻辑都有所不同。
*   **简单难度**：订单主要由1-2种预制菜组成的简单菜品构成。这有助于新玩家快速理解游戏的基本循环，熟悉操作，而不会因为过于复杂的订单而感到挫败。
*   **中等难度**：订单开始引入3-4种预制菜组成的菜品。玩家需要开始考虑更复杂的组装流程，并更精细地管理时间和资源。订单的生成频率也会有所提高。
*   **困难难度**：订单将主要由4-5种预制菜组成的复杂菜品构成。这不仅极大地考验了玩家的操作极限，更对团队间的沟通和分工提出了极高的要求。此外，困难模式下，订单的生成速度更快，顾客的耐心时间更短，使得整个游戏过程充满了极限挑战。
通过这种设计，游戏确保了玩家在逐步提升技能的同时，始终能面临与之匹配的挑战，从而维持了游戏的可玩性和长期吸引力。

### 3.2 预制菜（子食材）设计

#### 3.2.1 类型：肉类、蔬菜、主食、酱料等

为了构建丰富多样的菜品组合，游戏中的预制菜（子食材）被划分为几个基本类型。这种分类不仅有助于玩家理解和记忆，也为菜品的逻辑组合提供了基础。主要的预制菜类型包括：
*   **肉类/主菜**：如“黄焖鸡”、“番茄牛腩”、“宫保鸡丁”等，通常是菜品的核心部分。
*   **主食**：如“米饭”、“面条”、“莜面鱼鱼”、“小馒头”等，是构成套餐的基础。
*   **蔬菜/配菜**：如“青菜”、“西兰花”、“小菜”等，用于丰富菜品的营养和色彩。
*   **酱料/汤品**：如“浇头”、“酱料包”、“紫菜蛋花汤”等，用于提升菜品的风味。
*   **特殊组件**：某些特定菜品可能需要特殊的预制组件，如“汉堡”需要“汉堡胚”和“牛肉饼”。
每种预制菜都有其独特的视觉模型，即使在冷冻状态下也能通过包装或形状进行区分，方便玩家快速识别。

#### 3.2.2 状态：冷冻、解冻中、已解冻

预制菜在游戏流程中会经历三种不同的状态，每种状态都有其明确的视觉和逻辑定义：
1.  **冷冻状态**：这是预制菜的初始状态，通常存放在冰箱或货架上。此时的预制菜被一层冰晶或特殊的冷冻包装覆盖，呈现出蓝白色调，表示其不可直接使用。玩家需要将其拿起并放入微波炉进行解冻。
2.  **解冻中状态**：当玩家将冷冻的预制菜放入微波炉并启动后，它进入“解冻中”状态。此时，微波炉上方的进度条会开始填充，预制菜的模型也可能会有轻微的动画效果（如微微颤动或冒热气），表示正在处理。在此状态下，玩家无法将其取出使用。
3.  **已解冻状态**：当微波炉的进度条填满后，预制菜变为“已解冻”状态。此时，其外观会恢复为正常的、色彩鲜艳的食物模型，表示已经可以使用。玩家需要及时将其从微波炉中取出，用于后续的装盘环节。如果长时间不取出，可能会触发“糊掉”的惩罚机制。
这三种状态的清晰划分，是游戏核心循环得以顺畅运行的基础，也为玩家提供了直观的操作反馈。

### 3.3 订单系统

#### 3.3.1 派单机制：根据难度动态生成

订单的派发机制是游戏节奏控制的核心。系统会根据当前的游戏难度、关卡进度以及玩家当前正在处理的订单数量，动态地生成新的订单。这个机制旨在维持一个持续的、有压力但又不至于令人绝望的挑战流。
*   **动态间隔**：订单生成的间隔时间不是固定的。在简单难度下，间隔可能较长，给玩家充足的时间来处理。而在困难难度下，间隔会非常短，甚至可能出现多个订单同时出现的情况。
*   **智能调整**：系统会根据玩家的表现进行微调。如果玩家处理订单非常迅速，系统可能会略微加快派单速度以保持挑战性；反之，如果玩家陷入困境，系统可能会稍微放缓节奏，给予一定的喘息机会。
*   **随机性**：派单机制中会加入一定的随机性，例如在某个时间点突然连续派发多个简单订单，或者出现一个价值极高但制作复杂的“大订单”，以此来打破玩家的固定节奏，增加游戏的不可预测性。

#### 3.3.2 订单显示：UI界面展示所需菜品

所有待处理的订单都会在一个清晰、直观的UI界面上进行展示。这个界面通常位于屏幕的右上角或左侧，以垂直列表的形式呈现。每个订单条目都会包含以下信息：菜品的名称、一张小图片、以及构成该菜品的所有预制菜组件的图标列表。当玩家完成一个组件的准备后，对应的图标可能会被高亮或打勾，以提供即时的进度反馈。这种设计让玩家可以一目了然地了解当前的任务队列，并快速规划下一步的操作。UI的设计将遵循简洁明了的原则，避免信息过载，确保在紧张的游戏过程中，玩家能够迅速获取所需信息。

#### 3.3.3 等待时长：影响最终得分的因素

每个订单都有一个预设的“最佳完成时间”，即等待时长。这个时间从订单出现在UI上的那一刻开始计算。如果玩家能在等待时长内完成并交付订单，将获得基础分数和额外的速度奖励分。如果超过了这个时间，订单会变为“超时”状态，此时完成订单只能获得基础分数，奖励分将被扣除。超时时间越长，最终得分可能越低。这一机制旨在激励玩家追求高效率，并为游戏增加了一层紧迫感。等待时长的长短同样与游戏难度相关，困难模式下的订单等待时长会比简单模式短得多，从而对玩家的反应速度和操作流畅度提出更高的要求。

## 4. 关卡与难度设计

### 4.1 难度等级

#### 4.1.1 简单难度

简单难度旨在作为新手引导，让玩家熟悉游戏的基本操作和核心循环。在此难度下，关卡地图设计将相对开阔，各个功能区域（如食材区、微波炉、装盘区、洗碗池、出餐口）之间的距离较近，动线流畅，减少了玩家不必要的移动时间。订单的复杂度较低，通常只包含1-2种预制菜的简单组合，例如“一份黄米凉糕”或“一份西贝面筋”。订单的生成频率也较为平缓，给予玩家充足的时间来完成每一个订单，不会因为订单堆积而产生过大的压力。此外，客人的等待时间相对较长，对超时上菜的惩罚也较为宽容。微波炉和洗碗池的数量会相对充足，确保玩家不会因为设备占用而长时间等待。这个难度的核心目标是让玩家在无压力的环境下，掌握“取菜-解冻-装盘-上菜-洗碗”的基本流程，并初步体验到团队协作的乐趣。

#### 4.1.2 中等难度

中等难度是游戏的核心体验区，它在简单难度的基础上，显著提升了挑战性和策略深度。地图设计会变得更加复杂，功能区域之间的距离被拉开，甚至可能出现需要绕路或利用传送带等机关才能到达的区域，这迫使玩家必须进行更精细的分工和沟通 。订单的复杂度提升，开始出现需要3-4种预制菜组合的菜品，例如“张爷爷空心挂面套餐”或“牛大骨套餐”。订单的生成频率加快，玩家需要处理多线任务，合理安排解冻和洗盘的顺序，以避免流程堵塞。客人的等待时间会缩短，对超时上菜的惩罚也更为严厉。微波炉和洗碗池的数量可能不再充裕，玩家需要排队使用设备，这增加了时间管理的难度。此难度下，固定的分工模式将难以应对所有情况，玩家需要学会动态调整角色，例如在煮饭的间隙去帮忙洗碗或传递物品，从而打破僵化的流程，追求更高的效率 。

#### 4.1.3 困难难度

困难难度是为追求极致挑战和完美配合的核心玩家设计的。此难度下的关卡地图将极具“恶意”，功能区域被彻底分割，玩家之间可能需要通过投掷物品或利用复杂的移动平台才能进行协作 。例如，解冻区与装盘区被一条无法通过的传送带隔开，玩家必须精准地将解冻好的食材投掷给对面的队友。订单的复杂度达到顶峰，可能出现需要5种以上预制菜组合的超大型套餐，且订单的生成频率极高，几乎没有喘息的时间。客人的耐心极差，等待时间极短，稍有延误就会导致订单失败和大量扣分。微波炉和洗碗池的数量会严重不足，玩家必须精确计算每个设备的使用时间，并可能需要在设备旁“蹲点”等待。此外，困难难度的关卡还会引入更多动态障碍和随机事件，如厨房随机起火、地面结冰导致角色打滑、甚至厨房布局在过程中发生地震般的改变，这些都极大地考验着玩家的临场应变能力和团队默契 。

### 4.2 地图设计

#### 4.2.1 布局差异：三个难度对应不同地图

为了匹配三个不同的难度等级，游戏将设计三张主题和布局各异的地图。简单难度的地图可能是一个宽敞明亮、布局合理的现代化中央厨房，所有设备都触手可及。中等难度的地图则可能是一个空间局促、被各种储物架和隔断分割的“L”型或“回”字型厨房，玩家需要频繁转身和绕行。而困难难度的地图则会更加极端，可能是一个被分割成两个独立浮空平台的“空中厨房”，玩家之间只能通过投掷来传递物品；或者是一个在行驶中的卡车车厢内，地面会不断晃动，影响玩家的移动和操作 。每张地图不仅在视觉上有所区别，更重要的是其布局直接决定了玩家的操作动线和协作方式，是游戏难度和挑战性的核心载体。

#### 4.2.2 动线设计：参考《Overcooked》的动作风线平衡

地图设计的核心在于对玩家“动线”（Movement Line）的精妙控制，这一点深度借鉴了《Overcooked》的设计哲学。一个优秀的关卡设计，并非是让玩家的移动路径最短，而是要通过制造“不便”来强迫玩家进行沟通和协作 。例如，将食材区和微波炉放在厨房的一端，而将装盘区和出餐口放在另一端，中间用一个无法通过的柜台隔开。这样，一个玩家如果试图独立完成整个流程，就需要在两点之间来回奔波，效率极低。而两个玩家则可以分别守在两端，一个负责解冻，一个负责装盘，通过中间的柜台传递物品，形成高效的生产线 。这种设计巧妙地利用了空间布局，将“合作”从一个可选项变成了必选项，从而创造出《Overcooked》系列标志性的混乱与乐趣。

#### 4.2.3 障碍物与机关：增加游戏挑战性

除了静态的布局设计，地图中还会加入各种动态障碍物和机关，以进一步提升游戏的挑战性和不可预测性。这些元素是区分不同难度和增加游戏重玩价值的关键。
*   **传送带**：可以单向或双向移动，玩家和物品都可以站在上面。它们可以用来连接被隔开的区域，但也可能因为方向错误或速度过快而带来麻烦。
*   **移动平台**：某些平台会定时移动或根据玩家的操作移动，改变厨房的布局，迫使玩家不断调整策略 。
*   **火灾**：厨房中的微波炉或灶台（如果有）可能会随机起火，玩家需要找到并使用灭火器扑灭，否则将无法使用该区域 。
*   **狭窄通道**：只容一人通过的过道，会造成玩家之间的“交通堵塞”，考验玩家的耐心和协作精神 。
*   **环境变化**：如海盗船关卡中甲板的倾斜，或冰面关卡中地面的打滑，都会对玩家的移动操作提出更高的要求 。
这些动态元素的引入，使得每一局游戏都充满了变数，玩家无法完全依赖固定的套路，必须时刻保持警惕，灵活应对各种突发状况。

### 4.3 难度影响因素

#### 4.3.1 菜品复杂度

菜品复杂度是影响游戏难度的核心因素之一。它直接决定了玩家完成一个订单所需的操作步骤和时间。在简单难度下，订单多为单一预制菜，如“黄米凉糕”，玩家只需解冻一种食材即可。而在困难难度下，订单可能变为“黄米凉糕拼盘”，需要同时解冻黄米凉糕、蔓越莓干和桂花酱三种食材并进行组合。这种复杂度的提升，不仅增加了玩家的记忆负担和操作量，更重要的是，它使得“解冻”这一环节成为潜在的瓶颈。玩家需要同时管理多个微波炉，并精确计算每个订单所需的时间，以确保所有组件能够同时完成，从而高效地完成复杂的订单。

#### 4.3.2 订单生成频率

订单的生成频率，即新订单出现的速度，是控制游戏节奏和压力的关键。在简单难度下，订单生成较为缓慢，玩家有足够的时间来完成当前订单，甚至可以稍作休息。而在困难难度下，订单会如潮水般涌来，屏幕上可能同时存在4-5个待完成的订单。这种高频的订单生成，迫使玩家必须将流程流水线化，并时刻保持高效运转。任何一个环节的延误，都可能导致订单大量积压，最终因超时而失败。这种持续的高压状态，是“分手厨房”称号的由来，也是游戏最核心的乐趣和挑战所在 。

#### 4.3.3 客人等待时长

每个订单都有一个倒计时，代表客人的耐心。这个等待时长直接影响游戏的容错率。在简单难度下，等待时间较长，即使玩家操作失误或流程不畅，也有足够的时间来弥补。而在困难难度下，等待时间会大幅缩短，可能只有十几秒。这意味着玩家必须在极短的时间内完成从取菜到上菜的全部流程。这种设计极大地提升了游戏的紧张感，要求玩家的操作必须精准、迅速，团队的配合必须天衣无缝。任何一次碰撞、一次错误的传递或一次不必要的等待，都可能导致订单超时，从而对最终得分造成严重影响。

#### 4.3.4 解冻与洗碗时间

解冻和洗碗是游戏中两个主要的时间消耗型操作。这两个环节所需时间的长短，直接影响了整个厨房的生产效率。在简单难度下，解冻和洗碗的时间都相对较短，玩家不会在这些环节上花费太多时间。而在困难难度下，这两个时间都会被显著延长。例如，解冻一份复杂的肉类可能需要10秒，而洗碗也需要5秒。当微波炉和洗碗池数量有限时，这种时间的延长会造成严重的“塞车”现象。玩家必须像调度员一样，精确规划每个设备的使用顺序，并可能需要安排专人负责这些“后勤”工作，以确保前线的装盘和上菜环节能够顺利进行。这种对时间的精细管理，是高级玩家追求高分必须掌握的核心技巧。

## 5. 技术实现方案

### 5.1 技术栈选择

#### 5.1.1 前端：TypeScript, Phaser 3

为了实现一个稳定、可维护且性能优良的网页游戏，前端技术栈的选择至关重要。本项目推荐使用**TypeScript**作为主要的编程语言。TypeScript是JavaScript的超集，它引入了静态类型系统，可以在编译阶段就发现许多潜在的错误，极大地提升了代码的健壮性和可维护性，尤其是在项目规模逐渐增大时，其优势更为明显。对于团队协作和长期迭代而言，TypeScript的类型注解和接口定义能够提供更清晰的代码结构和API契约，降低了沟通成本。游戏本体的开发将基于**Phaser 3**引擎。Phaser 3是一个功能强大、社区活跃且完全开源的HTML5游戏框架，它专注于2D游戏开发，并提供了对WebGL和Canvas渲染的自动切换支持，确保了游戏在不同设备上的广泛兼容性 。Phaser 3拥有丰富的内置功能，包括精灵（Sprites）管理、动画系统、物理引擎（Arcade Physics）、输入处理、音频控制等，能够极大地简化游戏开发流程，让开发者可以更专注于游戏逻辑和玩法的实现 。结合TypeScript，可以利用Phaser 3官方提供的类型定义文件，获得完整的代码提示和类型检查，从而提升开发效率和代码质量 。

#### 5.1.2 后端：Node.js

虽然本游戏的核心玩法是单机模式，数据存储也计划使用浏览器端的localStorage，但引入一个轻量级的后端服务（使用**Node.js**）可以为未来的功能扩展打下坚实的基础。Node.js是一个基于Chrome V8引擎的JavaScript运行环境，它使得开发者可以使用JavaScript来编写服务器端代码，实现了前后端语言的一致性，降低了开发门槛。在本项目中，Node.js可以用于搭建一个简单的本地开发服务器，以支持模块化的前端代码和热重载功能，提升开发体验。更重要的是，预留一个Node.js后端，可以方便地在未来实现更复杂的功能，例如：1. **全球排行榜**：将玩家的分数数据存储在服务器端的数据库中，实现一个真正的全球排名系统。2. **多人联机模式**：利用Node.js的`ws`库或`Socket.IO`等工具，可以轻松实现玩家之间的实时通信，开发出合作或对战的多人游戏模式。3. **内容动态更新**：通过后端API，可以动态地向游戏客户端推送新的关卡、菜品或活动，而无需玩家手动更新整个游戏。因此，在项目初期就搭建一个基础的Node.js后端，是一种具有前瞻性的技术决策。

#### 5.1.3 数据存储：localStorage

根据项目初期的需求，游戏的数据存储将采用浏览器内置的**localStorage**。localStorage是一种Web存储机制，允许网站在用户的浏览器中存储键值对数据，并且数据没有过期时间，可以长期保存。对于本项目而言，localStorage足以满足初期的核心需求。主要用途包括：1. **存储玩家设置**：例如，玩家选择的游戏难度、音效开关状态、自定义的用户名等。2. **实现本地排行榜**：将玩家在不同难度下获得的最高分数以JSON格式序列化后存储在localStorage中。这样，即使玩家关闭浏览器或重启电脑，其历史最高分记录依然可以被读取和显示。3. **保存游戏进度（可选）** ：如果未来加入关卡解锁机制，也可以使用localStorage来记录玩家的通关进度。使用localStorage的优点在于其实现简单，无需搭建和维护复杂的数据库服务，完全符合项目初期“快速开发、快速验证”的目标。然而，其缺点也同样明显：数据仅存储在本地，无法跨设备同步，且存储容量有限（通常为5-10MB）。因此，在项目后期，如果需要实现更强大的数据功能，应考虑迁移到服务器端的数据库解决方案。

### 5.2 游戏引擎与框架

#### 5.2.1 引擎选择：Phaser 3（支持2.5D）

经过对多个HTML5游戏框架的综合评估，本项目最终选择**Phaser 3**作为核心游戏引擎。Phaser 3是目前最流行和最成熟的2D游戏开发框架之一，拥有庞大的社区、详尽的官方文档和丰富的学习资源，这对于快速开发和解决技术难题至关重要 。选择Phaser 3的主要原因如下：1. **强大的渲染能力**：Phaser 3默认使用WebGL进行渲染，并自动回退到Canvas，确保了在现代浏览器上的高性能表现和广泛的兼容性。其内置的渲染批处理系统能够有效减少绘制调用，从而支持大量游戏对象的同时渲染 。2. **完善的生态系统**：Phaser 3提供了开发一款完整游戏所需的几乎所有核心功能，包括场景（Scene）管理、精灵和组（Groups）管理、动画（Animations）和补间（Tweens）系统、多种物理引擎（Arcade, Matter.js）集成、输入处理（键盘、鼠标、触摸）以及音频管理 。3. **对2.5D/等距（Isometric）视图的良好支持**：虽然Phaser 3本质上是一个2D引擎，但它完全有能力实现2.5D的视觉效果。通过使用专门的等距插件（如`phaser3-plugin-isometric`）或者通过自定义的坐标转换逻辑，可以轻松创建出具有深度感和立体感的等距场景，完美契合本项目的俯视角厨房设计要求 。4. **与TypeScript的无缝集成**：Phaser 3官方提供了完整的TypeScript类型定义文件，使得开发者可以享受到静态类型检查带来的好处，如代码自动补全、重构支持和编译时错误检测 。

#### 5.2.2 网络框架：Colyseus（可选，用于后续扩展）

虽然项目初期定位为单机游戏，但考虑到未来可能扩展的多人联机模式，提前规划网络框架是明智之举。**Colyseus** 是一个专为Node.js设计的开源多人游戏服务器框架，它极大地简化了实时、多玩家应用程序的开发。选择Colyseus的主要优势在于其“房间（Room）”概念，它提供了一种直观的方式来管理游戏会话和玩家状态同步。开发者可以轻松地创建一个“厨房房间”，让多个玩家加入并共享同一个游戏世界。Colyseus处理了底层网络通信的复杂性，如WebSocket连接管理、状态同步、延迟补偿等，让开发者可以更专注于游戏逻辑的实现。如果未来计划加入在线合作或对战模式，Colyseus将是一个强大且易于集成的解决方案，可以与现有的Node.js后端无缝结合。

### 5.3 核心系统架构

#### 5.3.1 GameManager：管理游戏状态、时间、订单

`GameManager` 是整个游戏的核心中枢，负责协调和管理游戏的所有主要系统和状态。根据游戏开发的最佳实践，`GameManager` 通常被设计为一个单例（Singleton）模式，以确保在整个游戏生命周期中只有一个实例存在，从而方便全局访问和数据共享 。在 TypeScript 中，可以通过一个静态的 `getInstance` 或 `me` 方法来实现单例模式。`GameManager` 的主要职责包括：

1.  **游戏状态管理**：定义并控制游戏的不同阶段，例如 `GS_INIT`（初始化）、`GS_PLAYING`（游戏中）、`GS_END`（游戏结束）等 。通过 `setCurState` 这样的方法，可以切换游戏状态，并在状态切换时触发相应的逻辑，如初始化关卡、开始计时、显示结算界面等。
2.  **时间管理**：负责游戏的总时长控制。在本项目中，游戏时长固定为 3 分钟。`GameManager` 需要启动一个计时器，并在每一帧更新剩余时间，当时间耗尽时，将游戏状态切换到 `GS_END`。
3.  **订单管理**：负责生成、分发和跟踪玩家的订单。`GameManager` 会与一个 `OrderManager` 或类似的子系统协作，根据当前的游戏难度和关卡设计，动态生成订单队列。它需要监控每个订单的状态（等待中、制作中、已完成、已超时），并根据订单的完成情况计算分数。
4.  **分数与排行榜**：实时计算并更新玩家的分数。在游戏结束时，将最终分数提交给排行榜系统，并处理与本地存储的交互。
5.  **事件协调**：作为中央事件总线，协调不同系统之间的通信。例如，当玩家完成一个订单时，`OrderManager` 会通知 `GameManager`，`GameManager` 再通知 `ScoreManager` 更新分数，并可能触发 `UIManager` 更新UI显示。

一个典型的 `GameManager` 实现会包含一个 `update` 方法，该方法在游戏的主循环中被调用，用于处理每帧的逻辑更新，如检查游戏是否结束、更新计时器等。通过将核心逻辑集中在 `GameManager` 中，可以使游戏的整体结构更加清晰，便于维护和扩展。

#### 5.3.2 UIManager：管理UI进度条、菜单、分数显示

`UIManager` 是负责所有用户界面（UI）元素的管理和交互的系统。它的主要职责是将游戏的核心数据和状态以可视化的方式呈现给玩家，并处理玩家的UI交互。在 Phaser 3 中，UI 通常是通过场景（Scene）中的各种游戏对象（如 `Text`, `Image`, `Container`）来构建的。`UIManager` 会封装对这些UI元素的操作，提供一个清晰的接口给 `GameManager` 或其他系统调用。其主要功能包括：

1.  **主菜单与结算界面**：管理游戏开始前的菜单界面，包括“开始游戏”、“难度选择”、“排行榜”等按钮的显示和交互逻辑。在游戏结束时，负责显示结算界面，展示最终分数、评价以及返回主菜单或重新开始的选项。
2.  **游戏内HUD（Head-Up Display）** ：在游戏进行过程中，持续显示关键信息。这包括：
    *   **计时器**：显示剩余的游戏时间（3分钟倒计时）。
    *   **分数**：实时显示当前得分。
    *   **订单列表**：以图标或文字的形式，清晰地展示当前待处理的订单及其所需的菜品组合。
3.  **进度条与反馈**：对于所有需要时间进度的操作（如微波炉解冻、洗碗），`UIManager` 负责创建和更新进度条。当玩家与这些设备交互时，会显示一个带有数字时间的进度条，直观地反馈操作的剩余时间。此外，它还可能负责显示一些临时的反馈信息，如“上菜成功！”、“订单超时！”等提示文本。
4.  **“贾老板”催促系统UI**：当“贾老板”被触发时，`UIManager` 会负责显示其催促的对话框、表情动画等，增强游戏的紧张感和趣味性。

`UIManager` 的设计应遵循解耦原则，它只负责UI的显示和交互，具体的业务逻辑（如分数如何计算、订单如何生成）则由其他系统处理。例如，当 `GameManager` 通知分数更新时，`UIManager` 只负责调用一个方法去更新分数文本的显示内容。这种分离使得UI的修改和迭代不会影响到游戏的核心逻辑，提高了代码的可维护性。

#### 5.3.3 InputManager：处理键盘、鼠标、触屏输入

`InputManager` 是一个专门用于处理玩家输入的系统。它的主要作用是抽象和统一不同输入设备（键盘、鼠标、触摸屏）的事件，并将其转化为游戏内部可以理解的指令。在 Phaser 3 中，输入系统已经非常强大，但封装一个 `InputManager` 仍然有助于保持代码的整洁和可扩展性。其主要职责包括：

1.  **输入映射**：定义一套游戏内部的操作指令，例如 `MOVE_UP`, `MOVE_DOWN`, `INTERACT`, `SPRINT` 等。`InputManager` 负责将外部的物理输入（如按下键盘的 'W' 键或点击鼠标左键）映射到这些内部指令上。这样做的好处是，当需要修改按键绑定或支持新的输入设备时，只需修改 `InputManager` 的映射逻辑，而无需改动游戏角色的控制代码。
2.  **输入状态管理**：在每一帧，记录当前所有按键和操作的状态（按下、按住、释放）。这对于实现一些复杂的操作逻辑非常有用，例如，检测玩家是否在短时间内连续按下了某个键，或者是否同时按下了多个键。
3.  **事件分发**：当检测到有效的输入指令时，`InputManager` 会将其分发给相应的游戏对象或系统。例如，当检测到 `MOVE_UP` 指令时，它会通知 `PlayerController` 让角色向上移动。
4.  **跨平台兼容性**：确保游戏在不同平台（PC、移动设备）上都能有良好的输入体验。对于移动设备，`InputManager` 需要处理触摸事件，并将其模拟为键盘或鼠标输入，或者设计一套专门的虚拟摇杆和按钮UI。

通过 `InputManager`，可以将输入处理逻辑与游戏角色的具体行为解耦。`PlayerController` 只需要关心“我需要向上移动”，而不需要关心这个指令是来自键盘的 'W' 键还是触摸屏上的某个按钮。这种设计使得代码更加模块化，易于测试和维护。

## 6. 美术与素材需求

### 6.1 美术风格

#### 6.1.1 整体风格：卡通手绘

游戏的美术风格被明确定义为 **卡通手绘风格**。这种风格的核心特点是色彩鲜明、线条简洁、造型夸张且富有表现力，旨在营造一种轻松、幽默且易于亲近的视觉氛围。与写实风格相比，卡通手绘风格对细节的描绘要求较低，更注重整体形象的概括和动态感的表现，这非常适合快节奏的网页游戏。在《预制菜厨房》中，这种风格将体现在游戏的方方面面：从厨师角色的可爱形象，到食材的拟人化设计，再到厨房场景的温馨布置。色彩上，将采用高饱和度、对比强烈的配色方案，以吸引玩家的注意力并传达出游戏的趣味性。线条上，会使用流畅、圆润的笔触，避免尖锐和复杂的线条，以保持画面的整洁和统一。这种风格的选择不仅是为了美观，更是为了服务于游戏的核心玩法，让玩家在紧张的操作中也能感受到轻松愉快的氛围，从而降低挫败感，提升游戏体验。

#### 6.1.2 参考：《Overcooked》

《Overcooked》是本游戏美术风格的主要参考对象。该游戏以其独特的卡通手绘风格和充满活力的视觉表现而广受好评。其成功之处在于，它将一个看似混乱的厨房环境，通过精心设计的美术元素，转化为一个既有趣又易于理解的游乐场。具体来说，可以从以下几个方面进行借鉴：

1.  **角色设计**：《Overcooked》中的厨师角色设计简洁而富有特色，通过不同的帽子、服装和表情来区分不同的玩家，同时角色的动作夸张且流畅，充满了喜剧效果。本游戏中的厨师和“贾老板”角色也应遵循这一原则，设计出具有辨识度和亲和力的形象。
2.  **场景设计**：游戏中的厨房场景虽然布局复杂，但各个功能区域（切菜台、炉灶、传送带）的划分非常清晰，通过不同的颜色和图标进行标识，让玩家能够一目了然。本游戏的厨房地图设计也应注重功能区的明确划分，并通过视觉元素引导玩家的动线。
3.  **UI设计**：《Overcooked》的UI设计简洁明了，图标和文字都采用了与游戏整体风格一致的卡通字体和手绘元素，与游戏画面融为一体。本游戏的UI，包括订单列表、计时器、进度条等，也应采用类似的设计风格，保持视觉上的统一性。
4.  **特效与动画**：游戏中的火焰、烟雾、水花等特效都采用了手绘动画的形式，既增强了视觉冲击力，又符合整体的卡通风格。本游戏中的解冻、洗碗等操作的进度条和特效，也应采用类似的动画风格，使其更具表现力。

通过对《Overcooked》美术风格的深入分析和借鉴，可以确保《预制菜厨房》在视觉上具有高度的吸引力和专业水准。

### 6.2 素材清单

为了构建一个完整的游戏世界，需要准备一系列丰富的美术素材。这些素材将共同构成游戏的视觉基础，直接影响玩家的游戏体验。以下是根据游戏设计需求整理的详细素材清单：

#### 6.2.1 角色：厨师、贾老板（多视角）

角色是玩家与游戏世界互动的主要载体，其设计至关重要。

*   **厨师角色**：
    *   **基础形象**：需要设计一个或多个基础厨师形象，包括身体、头部、手脚等。风格应为Q版卡通，头大身小，表情丰富。
    *   **服装与配饰**：设计多种厨师帽、围裙、服装等，用于区分不同的玩家角色或作为解锁内容。这些配饰应能与基础形象自由组合，增加角色的个性化。
    *   **动画帧**：为了实现流畅的行走、奔跑、拿取、放置等动作，需要为每个动作绘制一系列的动画帧。考虑到俯视角，至少需要绘制角色的四个方向（上、下、左、右）的动画。
    *   **表情与特效**：设计一系列表情贴图，如开心、紧张、困惑等，用于在特定情况下（如被“贾老板”催促时）显示在角色头顶，增强情感表达。

*   **“贾老板”角色**：
    *   **基础形象**：设计一个具有鲜明特点的管理者形象，可以参考现实中企业家的卡通化形象，使其既有威严感又不失幽默感。
    *   **动画与表情**：设计其独特的站立、走动、催促等动画。特别需要设计一系列丰富的表情和口型，用于配合其催促的台词，使其形象更加生动。
    *   **多视角**：同样需要提供至少四个方向的视图，以适应其在厨房中不同位置出现的情况。

#### 6.2.2 场景：厨房地图、操作台、微波炉、水池

场景是游戏发生的舞台，其设计需要兼顾功能性和美观性。

*   **厨房地图**：
    *   **基础地面**：设计不同风格的地面贴图，如瓷砖、木地板等，用于构成三个不同难度关卡的基础地面。
    *   **墙壁与障碍物**：设计墙壁、柜台、柱子等静态元素的贴图，用于构建关卡的布局和障碍。
    *   **背景元素**：可以添加一些窗外的风景、墙上的装饰画等背景元素，增加场景的细节和氛围。

*   **操作台与设备**：
    *   **操作台**：设计一个通用的操作台贴图，用于放置预制菜和盘子。
    *   **微波炉**：设计微波炉的外观，包括关闭和打开（放入食物后）两种状态。还需要设计其在工作时的特效，如发光、旋转等。
    *   **水池**：设计水池的外观，包括空水池和有水的水池。同样需要设计洗碗时的水花、泡沫等特效。
    *   **传送带/出餐口**：设计用于接收订单和交付成品菜的传送带或出餐口。

#### 6.2.3 物品：预制菜、盘子、食材

物品是游戏交互的核心，其设计需要清晰易懂。

*   **预制菜**：
    *   **冷冻状态**：设计各种预制菜在冷冻状态下的外观，通常可以表现为一个带有冰霜效果的包装袋或盒子。需要为每种菜品设计独特的包装，以便玩家识别。
    *   **解冻中状态**：设计从冷冻到解冻的过渡动画或特效，如冰霜融化、包装变软等。
    *   **已解冻状态**：设计预制菜解冻后的真实食材外观，如肉块、蔬菜、米饭等。这些素材需要绘制得诱人且符合卡通风格。

*   **盘子**：
    *   **空盘子**：设计干净的空盘子。
    *   **脏盘子**：设计使用过的、带有食物残渣的脏盘子。
    *   **组装好的菜品**：设计将不同的已解冻食材组合在盘子上的最终成品。这需要将不同的食材素材与盘子素材进行组合，形成完整的菜品图像。

*   **其他物品**：
    *   **UI图标**：为所有菜品、预制菜、设备设计简洁的图标，用于在订单列表和UI界面中显示。
    *   **特效素材**：如火焰、烟雾、星星、感叹号等，用于增强游戏的视觉反馈。

### 6.3 素材格式与优化

#### 6.3.1 格式：PNG贴图

所有美术素材的最终输出格式应为 **PNG**。选择 PNG 格式的主要原因是它支持无损压缩和透明通道（Alpha Channel）。无损压缩可以确保图像在压缩后不会失真，保持原始的画质，这对于卡通手绘风格中清晰的线条和色块尤为重要。透明通道则允许素材在不规则的轮廓下保持透明背景，这对于将角色、物品等叠加到游戏场景中是必不可少的。例如，一个角色或一个食材，其边缘往往不是规则的矩形，使用 PNG 格式可以完美地将其从背景中“抠”出来，使其与游戏场景自然地融合在一起。虽然 PNG 格式的文件大小可能比有损压缩的 JPEG 格式要大，但考虑到网页游戏对画质的要求以及现代网络带宽的提升，为了保证最佳的视觉效果，PNG 是首选格式。

#### 6.3.2 优化：整合到雪碧图（Sprite Sheet）

为了优化游戏的加载性能和运行效率，强烈建议将大量的小尺寸贴图素材整合到一张或几张 **雪碧图（Sprite Sheet）** 中。雪碧图是一种将多个小图像合并到一张大图像上的技术。使用雪碧图有以下几个显著的优点：

1.  **减少HTTP请求**：在网页加载时，浏览器需要为每一个外部资源（如图片文件）发起一个HTTP请求。如果游戏有数百个独立的素材文件，就会产生大量的HTTP请求，这会严重影响游戏的初始加载速度。通过将这些素材整合到一张雪碧图中，可以极大地减少HTTP请求的数量，从而显著缩短加载时间。
2.  **提高渲染性能**：对于游戏引擎来说，在渲染每一帧时，切换不同的纹理（Texture）是一个相对耗时的操作。如果场景中有大量使用不同小贴图的精灵，引擎就需要频繁地在GPU上切换纹理，这会成为性能瓶颈。而使用雪碧图，多个精灵可以共享同一张大纹理，引擎可以一次性将这张大纹理上传到GPU，然后在渲染时通过指定不同的纹理坐标（UV坐标）来显示不同的部分，从而大大减少了纹理切换的开销，提高了渲染效率。
3.  **便于管理和维护**：将相关的素材（如一个角色的所有动画帧，或一套UI图标）放在一张雪碧图中，可以使项目结构更加清晰，便于美术和程序人员协同工作。

在 Phaser 3 中，可以使用 `TextureAtlas` 来加载和使用雪碧图。通常，美术人员会使用 TexturePacker 等工具来生成雪碧图及其对应的 JSON 描述文件（该文件记录了每个小图在大图中的位置和尺寸），程序人员则通过加载这个 JSON 文件来方便地调用雪碧图中的各个素材。

## 7. UI/UX 设计

### 7.1 游戏界面

#### 7.1.1 主菜单：开始游戏、排行榜、难度选择

主菜单是玩家进入游戏后的第一个界面，其设计应简洁明了，突出核心功能。界面中央应有一个醒目的游戏Logo。下方应排列三个主要按钮：
*   **开始游戏**：点击后进入难度选择界面。
*   **排行榜**：点击后进入排行榜界面，显示不同难度下的最高分记录。
*   **设置（可选）** ：提供音效、音乐开关等选项。
背景可以采用动态的游戏场景或角色动画，增加吸引力。

#### 7.1.2 游戏内UI：订单列表、计时器、分数

游戏内的UI（HUD）需要清晰、不遮挡游戏画面，并提供关键信息。
*   **订单列表**：位于屏幕一侧（如右上角），以垂直列表形式展示当前所有待处理的订单。每个订单项应包含菜品图标、所需预制菜组件图标以及一个表示顾客耐心的倒计时条。
*   **计时器**：位于屏幕顶部中央，以“分:秒”格式显示剩余的3分钟游戏时间，字体应足够大且醒目。
*   **分数**：位于计时器旁边，实时显示当前获得的总分。
*   **“贾老板”状态区**：在屏幕的某个角落（如左上角），显示“贾老板”的头像，其表情会根据游戏状态动态变化。

#### 7.1.3 结算界面：最终分数、排行榜

游戏结束后，结算界面会显示本局游戏的最终结果。
*   **最终分数**：以大号字体显示本局获得的总分。
*   **星级评价**：根据分数区间，显示1到3颗星的评价。
*   **详细数据**：列出完成的订单数、最高连击数等详细统计信息。
*   **操作按钮**：提供“再来一局”、“返回主菜单”和“查看排行榜”的选项。
*   **排行榜提交**：如果玩家获得了高分，会弹出输入框，让玩家输入用户名，并将分数提交到本地排行榜。

### 7.2 进度条与反馈

#### 7.2.1 解冻进度条：微波炉操作

当玩家将预制菜放入微波炉并启动后，微波炉上方会显示一个进度条。这个进度条会从左到右逐渐填充，颜色可以从蓝色（冷冻）过渡到绿色（完成），直观地展示解冻的进度。

#### 7.2.2 洗碗进度条：水池操作

与解冻类似，当玩家将脏盘子放入水池开始清洗时，水池上方也会出现一个进度条，显示清洗的剩余时间。颜色可以从灰色（脏）过渡到白色（干净）。

#### 7.2.3 数字时间显示

在所有需要等待的操作（解冻、洗碗）的进度条旁边，都应有一个数字倒计时显示，精确到秒。这为玩家提供了更精确的时间信息，方便他们进行多任务规划和计算。

### 7.3 排行榜系统

#### 7.3.1 分难度榜单：三个独立榜单

排行榜系统将根据游戏的三个难度等级（简单、中等、困难）分为三个独立的榜单。玩家在每个难度下获得的最高分都会被记录，并显示在对应的榜单上。这确保了不同水平的玩家都能在各自的能力范围内找到挑战和成就感。

#### 7.3.2 数据存储：本地localStorage

根据项目初期的需求，排行榜数据将存储在浏览器的`localStorage`中。当玩家提交分数时，游戏会将用户名和分数作为一个对象，序列化为JSON字符串后存储。在显示排行榜时，再从`localStorage`中读取数据，反序列化后进行排序展示。这种方式简单高效，无需后端数据库支持。

#### 7.3.3 用户输入：自行输入用户名

在玩家获得高分并选择提交时，游戏会弹出一个简单的输入框，让玩家自行输入一个用户名。这个用户名将与分数一同被记录到排行榜中。这种方式无需复杂的第三方登录或认证流程，降低了玩家的使用门槛，符合项目初期快速验证的目标。

## 8. 开发任务分解（供Claude Code使用）

### 8.1 第一阶段：核心框架搭建

#### 8.1.1 初始化Phaser 3项目

*   **任务描述**：使用Phaser 3官方提供的TypeScript模板，创建一个新的项目。配置好开发环境，包括Webpack或Vite等构建工具，确保项目能够成功编译和运行。
*   **验证标准**：项目能够成功启动，并在浏览器中显示一个空白的Phaser游戏画布。

#### 8.1.2 创建游戏场景与基础UI

*   **任务描述**：创建游戏所需的主要场景（Scene），如`BootScene`（加载场景）、`MenuScene`（主菜单场景）、`GameScene`（游戏主场景）和`GameOverScene`（结算场景）。在`MenuScene`中实现基本的UI布局，包括开始游戏和排行榜按钮。
*   **验证标准**：能够在不同场景之间进行切换，主菜单的按钮能够响应点击事件。

#### 8.1.3 实现玩家角色移动与控制

*   **任务描述**：在`GameScene`中创建玩家角色（厨师）的精灵（Sprite）。实现通过键盘（WASD或方向键）控制角色在2.5D地图上的四向移动。实现加速功能（如按住Shift键）。
*   **验证标准**：玩家角色能够在地图上流畅移动，加速功能正常，且角色移动时有相应的动画。

### 8.2 第二阶段：核心机制实现

#### 8.2.1 实现预制菜解冻与洗碗机制

*   **任务描述**：在场景中放置微波炉和水池。实现玩家与这些设备的交互逻辑：玩家可以拿起冷冻的预制菜，放入微波炉，并启动解冻。解冻过程通过UI进度条和数字时间显示。解冻完成后，玩家可以取出已解冻的预制菜。实现类似的洗碗机制。
*   **验证标准**：玩家可以完整地执行“取菜-放入微波炉-等待解冻-取出”和“取盘-放入水池-等待清洗-取出”的流程，UI反馈正确。

#### 8.2.2 实现菜品组装与上菜逻辑

*   **任务描述**：实现玩家将已解冻的预制菜放置到盘子上的逻辑。根据订单要求，将正确的预制菜组合在一起形成完整的菜品。实现玩家将完成的菜品送到指定出餐口以完成订单的逻辑。
*   **验证标准**：玩家可以按照订单要求，将多种预制菜组装成一个菜品，并成功上菜。

#### 8.2.3 实现订单生成与管理系统

*   **任务描述**：创建一个订单管理系统。系统能够根据游戏难度动态生成订单，并在UI的订单列表中显示。每个订单应有倒计时机制。当订单完成或超时时，系统能正确处理。
*   **验证标准**：游戏开始后，订单列表会不断出现新的订单。完成订单后，该订单从列表中消失。超时订单会被标记或消失。

### 8.3 第三阶段：游戏内容与优化

#### 8.3.1 设计并实现三个难度的关卡

*   **任务描述**：根据设计文档，使用瓦片地图编辑器（如Tiled）或代码创建三个不同布局的厨房地图。为每个难度配置不同的参数，如订单复杂度、生成频率、等待时长等。
*   **验证标准**：玩家可以在主菜单选择不同难度，进入对应设计的关卡进行游戏。

#### 8.3.2 实现“贾老板”催促系统

*   **任务描述**：创建“贾老板”NPC角色。实现其台词和表情的触发机制，使其能根据玩家的表现（如订单积压、超时）进行催促。将台词以文字气泡形式显示在屏幕上。
*   **验证标准**：当玩家操作缓慢或订单积压时，“贾老板”会出现并说出相应的催促台词，其表情会动态变化。

#### 8.3.3 实现分数计算与排行榜功能

*   **任务描述**：实现分数系统，根据订单完成速度、复杂度等计算得分。实现本地排行榜功能，能够将高分记录到`localStorage`中，并在排行榜界面显示。
*   **验证标准**：游戏结束时能正确显示最终分数。玩家可以输入用户名并提交分数。排行榜界面能正确显示各难度下的历史最高分。

### 8.4 第四阶段：美术与音效整合

#### 8.4.1 替换美术素材

*   **任务描述**：将开发过程中使用的临时占位素材，全部替换为最终的美术资源，包括角色、场景、物品等。确保所有素材都整合到雪碧图中以优化性能。
*   **验证标准**：游戏画面与设计风格统一，所有元素都使用了正确的美术素材。

#### 8.4.2 添加音效与背景音乐

*   **任务描述**：为游戏添加背景音乐、角色移动音效、交互音效（如微波炉“叮”的一声）、UI音效和“贾老板”的催促语音。
*   **验证标准**：游戏中有完整的音效和背景音乐，且音量平衡，能提升游戏体验。

#### 8.4.3 最终测试与优化

*   **任务描述**：进行全面的游戏测试，包括功能测试、性能测试和兼容性测试。修复发现的bug，并对游戏性能进行优化，确保游戏在不同配置的电脑上都能流畅运行。
*   **验证标准**：游戏无明显bug，运行流畅，核心玩法体验良好。